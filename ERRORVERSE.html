<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Errorverse</title>

<style>

/* ==== GENERAL ==== */
body {
    background: #5a00b5;
    font-family: Arial, sans-serif;
    margin: 0;
}

/* ==== TOP BAR ==== */
.top-bar {
    width: 95%;
    margin: 20px auto;
    background: #3d0072;
    padding: 15px 20px;
    border-radius: 30px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    color: white;
}

.tb-right {
    display: flex;
    align-items: center;
    gap: 10px;
    cursor: pointer;
}

.tb-pfp {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    border: 2px solid gold;
}

/* ==== DROPDOWN ==== */
#profileDropdown {
    position: absolute;
    right: 40px;
    top: 75px;
    background: #3d0072;
    border-radius: 15px;
    padding: 10px;
    display: none;
}

#logoutBtn {
    background: #ff3e3e;
    border: none;
    padding: 8px 14px;
    color: white;
    border-radius: 10px;
    cursor: pointer;
}

/* ==== CARDS ==== */
.card {
    width: 90%;
    max-width: 500px;
    background: #ffffff20;
    padding: 20px;
    border-radius: 20px;
    margin: 20px auto;
    color: white;
    backdrop-filter: blur(8px);
}

.inventory-card {
    background: #ffffff10;
}

</style>
</head>
<body>

<!-- ===== TOP BAR ===== -->
<div class="top-bar">

    <div class="tb-left">
        <span style="font-size: 20px; font-weight: bold;">Errorverse</span>
    </div>

    <div class="tb-right" id="profileButton">
        <img id="profileAvatar" src="images/default_avatar.png" class="tb-pfp">
        <span id="profileName">Guest</span>
    </div>

</div>

<!-- DROPDOWN -->
<div id="profileDropdown">
    <button id="logoutBtn">Logout</button>
</div>

<!-- ===== LOGIN CARD (ALWAYS VISIBLE) ===== -->
<div class="card" id="loginCard">
    <h2>Login</h2>
    <input id="email" placeholder="Email"><br><br>
    <input id="password" type="password" placeholder="Password"><br><br>
    <button id="loginBtn">Login</button>
</div>

<!-- ===== PROFILE CUSTOMIZER CARD (ALWAYS VISIBLE) ===== -->
<div class="card">
    <h2>Customize Profile</h2>
    <input id="displayNameInput" placeholder="Display Name"><br><br>
    <button id="saveName">Save</button>
</div>

<!-- ===== INVENTORY CARD (SHOWS AFTER LOGIN) ===== -->
<div class="card inventory-card" id="inventoryCard" style="display:none;">
    <h2>Your Inventory</h2>
    <div id="inventoryList">Loading...</div>
</div>


<script>

/* ===== TOP BAR DROPDOWN ===== */
const profileButton = document.getElementById("profileButton");
const profileDropdown = document.getElementById("profileDropdown");

profileButton.onclick = () => {
    profileDropdown.style.display =
        profileDropdown.style.display === "block" ? "none" : "block";
};

/* ===== LOGOUT ===== */
document.getElementById("logoutBtn").onclick = () => {
    localStorage.clear();
    document.getElementById("profileName").textContent = "Guest";
    document.getElementById("profileAvatar").src = "images/default_avatar.png";
    document.getElementById("inventoryCard").style.display = "none";
    profileDropdown.style.display = "none";
};

/* ===== LOGIN (FAKE EXAMPLE) ===== */
document.getElementById("loginBtn").onclick = () => {
    const email = email.value.trim();
    const pass = password.value.trim();

    if (!email || !pass) {
        alert("Enter login info");
        return;
    }

    // pretend success
    localStorage.setItem("loggedIn", "1");

    document.getElementById("profileName").textContent = email.split("@")[0];
    document.getElementById("inventoryCard").style.display = "block";
};

/* ===== SAVE DISPLAY NAME ===== */
document.getElementById("saveName").onclick = () => {
    const newName = displayNameInput.value.trim();
    if (!newName) return;

    document.getElementById("profileName").textContent = newName;
};

</script>

</body>
</html>
